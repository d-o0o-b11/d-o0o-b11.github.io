---
title: 메인 화면 서버 연결
description: 서버 연결은 빠르게 빠르게
# author: d_o0o_b
categories: [OrbitMe]
tags: [typography]
# pin: true
math: true
mermaid: true
---


## 개요

새로운 우주 컨셉 UI가 완성되면서, 이제 실제 데이터를 표시하기 위한 서버 연결 작업이 필요했습니다.
오늘은 서버 API 수정과 프론트엔드 연결 그리고 우주 배경 화면 구현 작업을 진행했습니다.


## 서버 작업

### UI 변경에 따른 데이터 구조 재설계

UI가 달라지면서 필요한 데이터 형식도 달라졌기에 스키마 수정과 1차적으로 서버에 불필요한 api 제거, 개편된 UI에 맞게 api 수정에 들어갔습니다.

**변경된 데이터 구조:**

만다라트 UI에서는 9x9 그리드 형태의 데이터 구조였다면 우주 UI에서는
- 중심 행성 (메인 목표)
- 궤도별 위성 행성들 (세부 목표)

색상 데이터가 필요 없어졌습니다.

### 불필요한 API 정리

이전 miniMe에서 사용하던 API 중 더 이상 필요 없는 엔드포인트들을 제거했습니다
- 그리드 위치 기반 조회 API
- 일부 중복된 CRUD 엔드포인트


### 빠른 작업 완료

서버쪽 코드는 1시간 내로 진행을 했습니다.
서버쪽은 아직까진 어려운 작업이 없기에 더더욱 빨리 끝난 것 같습니다.

이렇게 빠르게 작업할 수 있었던 이유
1. **기존 코드베이스의 이해**: 이전에 작성한 코드라 구조를 잘 알고 있었음
2. **명확한 요구사항**: UI가 먼저 완성되어 필요한 데이터가 명확했음
3. **타입스크립트의 도움**: 타입 정의만 바꾸면 수정이 필요한 곳을 컴파일러가 알려줌
4. **테스트 코드**: 기존 테스트를 수정하며 빠르게 검증 가능


## 프론트엔드 연결

### 기존 경험의 활용

프론트도 서버와 연결하는 작업은 이전 miniMe와 크게 달라지지 않아서 이 역시 빨리 작업을 끝낸 것 같습니다.

**재사용 가능했던 것들**
- API 클라이언트 설정
- 인증 토큰 관리 로직
- 에러 핸들링 인터셉터



## 배경 화면 작업

### 초기 계획: Lottie JSON

<!-- 배경화면 UI -->
먼저, 배경화면을 보시면 별과 그라데이션으로 화면에 깔려있습니다.
처음에는 디자이너분께서 JSON 형식으로 주신다고 하셨지만, 그라데이션은 JSON으로 만들 수 없다는 것을 알게 되었습니다.

**Lottie의 한계**
- Lottie는 벡터 기반 애니메이션에 최적화
- 복잡한 그라데이션 애니메이션은 지원하지 않음
- 특히 방사형(radial) 그라데이션의 움직임은 구현 불가

After Effects에서 작업한 그라데이션 애니메이션을 Lottie로 export하려 했지만 결과물이 의도와 많이 달랐습니다.

### 대안 모색

그래서 그라데이션은 빼고 별만 바탕에 까는 방향으로 갈까 싶었지만 그라데이션이 없으면 밋밋해보이기도 저희가 의도한 방향은 아닌 것 같아서
처음에 기획한 그라데이션이 움직이는건 제외하고 움직이지 않는 그라데이션을 프론트측 코드로 진행하였습니다.

**결정 과정:**

팀 내에서 세 가지 옵션을 논의했습니다:
1. 그라데이션 없이 별만 사용 → 너무 심심함
2. 정적인 그라데이션 이미지 사용 → 파일 크기 증가
3. CSS 그라데이션 코드 사용 → 선택!

CSS 그라데이션을 선택한 이유
- 파일 크기 최소화
- 반응형 대응 용이
- 색상 변경이나 수정이 쉬움
- 향후 애니메이션 추가 가능성

### 레이어 구조

배경 깔고 > 그라데이션 깔고 > 별 깔고
<!-- 순서 이미지 추가 -->
![Image](https://github.com/user-attachments/assets/34379e0f-f86b-4ee2-88a5-68e82b242b3d?raw=true)

이렇게 진행하였습니다.

## 배운 점

### 풀스택 개발의 효율성

서버와 프론트를 모두 다룰 수 있으니 작업 속도가 빨라졌습니다
- API 스펙을 프론트에 맞춰 바로 조정 가능
- 데이터 구조를 양쪽에서 최적화
- 디버깅이 훨씬 수월함

### 기술 선택의 트레이드오프

Lottie의 한계를 경험하며 배운 것
- 모든 디자인을 그대로 구현할 수 없다
- 기술적 제약을 이해하고 대안을 찾는 능력이 중요
- 때로는 "덜어내는" 것도 좋은 선택

