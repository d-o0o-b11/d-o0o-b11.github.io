---
title: HTTP , HTTPS 동작 원리 [1]
description: DNS 이해하기
categories: [Dev-Notes, Theory]
tags: [typography]
math: true
mermaid: true
---

## 도메인 vs IP 주소
> 웹사이트는 어떻게 찾아갈까?

<br/>

### IP 주소란?
인터넷에 연결된 모든 기기는 **고유한 주소(IP 주소)**를 가지고 있습니다.
이 IP 주소는 우리가 집을 찾을 때 사용하는 집 주소와 같은 역할을 합니다.

```
IPv4: 192.168.1.1, 8.8.8.8
IPv6: 2001:db8::ff00:42:8329
```

웹사이트도 결국 인터넷에 연결된 서버에 존재하니까 이 서버도 IP 주소를 가지고 있습니다.
우리가 자주 방문하는 Google의 IP 주소는 `142.250.190.78` 과 같이 고유한 형태로 존재합니다.

<br/>

### 왜 우리는 IP 주소로 웹사이트를 방문하지 않을까?
IP 주소는 숫자로 이루어져 있어 기억하기 어렵습니다.  
구글을 방문하려면 `142.250.190.78` 대신 `www.google.com`을 입력하는 것이 훨씬 쉽고 편리합니다.

이처럼 **IP 주소를 쉽게 기억하고 사용할 수 있도록 문자 형태로 만든 것이 "도메인(Domain)"**입니다.

<br/>

### 도메인과 IP 주소의 관계
웹사이트는 도메인 이름을 IP 주소로 변환하는 과정이 필요합니다. 
이 과정을 DNS(Domain Name System)라고 부릅니다.
`www.google.com`을 입력하면 컴퓨터는 먼저 이 도메인의 IP 주소를 찾아 해당 서버에 요청을 보냅니다.

<br/>

### 정리
1. IP 주소
    - 인터넷에서 기기의 고유 주소
    - ex. 142.250.190.78
    - 네트워크 간 통신에 사용됨

2. 도메인
    - 사람이 쉽게 기억할 수 있도록 만든 이름
    - ex. www.google.com
    - 사용자가 쉽게 웹사이트에 접근할 수 있도록 함

<br/>

## DNS란?
DNS(도메인 네임 시스템, Domain Name System)는 도메인 이름을 IP 주소로 변환해주는 시스템입니다.
쉽게 말해, "인터넷 전화번호부"와 같은 역할을 합니다.

`www.google.com`을 입력하면 DNS는 해당 도메인의 IP 주소인 `142.250.190.78`을 찾아  
브라우저가 해당 서버에 접근할 수 있도록 도와줍니다.  
이는 마치 휴대폰 연락처에서 이름으로 저장된 번호를 찾아 전화를 거는 것과 유사합니다.

<br/>

### DNS 동작 과정
도메인을 IP 주소로 변환하기 위해서는 다음과 같은 과정을 거칩니다.  
`www.example.com`에 접속할 때를 예로 들면 다음과 같습니다.


1. 사용자가 브라우저에 `www.example.com`을 입력합니다.
    - 브라우저는 해당 도메인의 IP 주소를 알고 있는지 확인합니다.

2. 로컬 DNS 캐시 확인
    - 사용자의 컴퓨터(또는 브라우저)가 이전에 방문한 기록이 있다면, DNS 조회 없이 바로 사용합니다.
    - 기록이 없다면, ISP(인터넷 제공 업체)의 DNS 서버에 요청을 보냅니다.

3. ISP의 DNS 서버에서 확인 (재귀적 질의, Recursive Query)
    - ISP의 DNS 서버가 `www.example.com`의 IP 주소를 알고 있다면, 즉시 응답합니다.
    - 모를 경우, 루트 DNS 서버로 요청을 전달합니다.

4. 루트 네임서버(Root Name Server) 응답
    - 루트 서버는 `.com`을 담당하는 TLD 서버의 정보를 알려줍니다.

5. TLD 네임서버 응답
    - `.com`을 담당하는 TLD 서버는 `example.com`의 네임서버 정보를 제공합니다.

6. 도메인 네임서버(NS) 응답
    - 최종 네임서버는 정확한 IP 주소(예: 93.184.216.34)를 반환합니다.

7. 브라우저가 해당 IP 주소로 HTTP 요청 전송
    - 이제 브라우저는 해당 서버와 통신하며 웹사이트를 표시합니다.

<br/>

### DNS 서버 종류
> DNS는 여러 계층의 서버로 구성되어 있습니다.

| DNS 서버 종류    | 역할 |
| :--------------------------- |:---------------------------|
| 로컬 캐시  | 브라우저나 운영체제에 저장된 최근 조회 결과 | 
| ISP의 DNS 서버  | 인터넷 서비스 제공업체(ISP)가 관리하는 DNS 서버 | 
| 루트 네임서버  | 전 세계 13개만 존재하는 최상위 DNS 서버 | 
| TLD 네임서버  | .com, .net, .org 등 각 최상위 도메인(TLD) 담당 | 
| 도메인 네임서버(NS)  | 개별 도메인의 최종 DNS 서버 (웹사이트가 직접 관리) | 

<br/>

### DNS가 없다면?
DNS가 없다면 사용자는 웹사이트를 방문할 때마다 IP 주소를 직접 입력해야 합니다.  
예를 들어, `www.google.com` 대신 `142.250.190.78`을 외워야 하므로 매우 불편해집니다.






