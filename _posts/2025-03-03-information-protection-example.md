---
title: 정보 보호 적용
description: 최대한 보호하자
categories: [Dev-Notes, Practice]
tags: [typography]
math: true
mermaid: true
---

## 개요
서비스를 개발하고 운영하면서 사용자 정보 보호와 시스템 안정성을 확보하기 위해 보안 기술들을 적용해왔습니다.
이번 글에서는 그동안 적용한 보안 방식들과 그 이유 그리고 각각의 구성 요소들이 어떻게 동작하는지에 대해 정리해보았습니다.
이를 통해 보안이 단순한 기능 구현이 아닌 서비스 전반에 걸친 중요한 고려사항임을 다시금 돌아보게 되었습니다.

<br/>

## JWT 토큰 사용
> 인증(Authentication) & 책임 추적성(Accountability) 

서비스에서 JWT(Json Web Token)을 활용해 사용자 인증을 구현했습니다.
로그인 성공 시 서버가 JWT 토큰을 발급하고 이후 사용자는 요청마다 해당 토큰을 포함하여 인증을 진행합니다.

### 적용된 보안 원칙
#### 인증 (Authentication)
사용자가 로그인하면 서버가 JWT 토큰을 발급해 신원을 인증합니다.
이후 별도 비밀번호 입력 없이 토큰을 통해 인증이 유지되며 토큰이 만료되기 전까지는 서비스를 계속 이용할 수 있습니다.

#### 책임 추적성 (Accountability)
JWT에는 사용자 식별 정보 및 권한 정보가 포함되어 있습니다.
누가, 언제, 어떤 요청을 했는지를 추적할 수 있어 시스템 감사 및 이상 행동 감지에 유용합니다.

<br/>


### 보안 강화 포인트
1. JWT 서명
    - HMAC 또는 RSA 알고리즘을 통해 토큰 위·변조를 방지했습니다.
2. 만료 시간 설정
    - 일정 시간 후 만료되도록 설정하여 토큰 탈취 시 피해를 최소화합니다.
3. Access Token(AT) & Refresh Token(RT) 분리 관리
    - AT는 짧은 유효 기간을 가져, 탈취돼도 큰 피해를 막을 수 있도록 설계했습니다.
    - RT는 DB에 저장하여 서버 측에서만 관리합니다.
    - 만료 전 로그아웃 또는 탈취 탐지 시 AT를 블랙리스트 처리하여 재사용을 차단합니다.


> JWT 기반으로 사용자의 신원을 안전하게 확인하고 모든 요청을 추적할 수 있는 구조를 구현했습니다.
{: .prompt-info }

<br/>
<br/>


## AWS WAF 사용
> 가용성(Availability) & 기밀성(Confidentiality)

AWS **WAF(Web Application Firewall)**를 도입하여 무작위 요청 및 악성 트래픽을 차단했습니다.
이를 통해 SQL Injection, XSS, DDoS 등 다양한 웹 공격을 효과적으로 방어할 수 있었습니다.

![Image](https://github.com/user-attachments/assets/ec54f7bf-0d68-4b52-a6d0-bf12dda9a942?raw=true){: w='400' }
> 약, 10K 정도 악성 트래픽을 차단하였습니다.

### 적용된 보안 원칙
#### 가용성 (Availability)
악의적인 트래픽을 선제적으로 차단함으로써 서버가 정상적으로 운영되도록 보장합니다.
특히 DDoS 공격이나 무작위 요청으로 인한 시스템 장애를 방지하는 데 효과적이었습니다.


#### 기밀성 (Confidentiality)
비정상적인 접근이나 SQL Injection 등을 차단하여 민감한 정보가 외부에 노출되지 않도록 보호합니다.
WAF는 서비스의 첫 번째 방어선 역할을 수행합니다.

### 보안 강화 포인트

1. 커스텀 규칙 적용
    - 특정 국가 IP 차단
    - Admin Page 접근은 회사 내부 IP로만 접근 허용
    - 초당 요청 수 제한
2. 공격 패턴 분석 & 실시간 대응
    - 에러 발생 시 Slack 알림으로 빠르게 대응했습니다.
    - 공격 패턴을 지속적으로 분석하여 WAF 규칙을 업데이트했습니다.
    - 반복되는 불필요한 에러 알림 제거 → 서비스 안정성 향상


> 무작위 요청을 효과적으로 차단하여 서비스 안정성과 보안성을 동시에 확보했습니다.
{: .prompt-info }

<br/>

## HTTP → HTTPS로 전환 (SSL/TLS 적용)
> 기밀성(Confidentiality) & 부인 방지(Non-repudiation)

기존 HTTP에서 HTTPS로 전환하여 데이터 암호화와 서버 신뢰도를 확보했습니다.
CA(Certificate Authority)로부터 인증서를 발급받아 TLS(SSL)를 적용했습니다.


### 적용된 보안 원칙
#### 기밀성 (Confidentiality)
HTTPS를 통해 데이터가 암호화되어 전송되므로 제3자가 데이터를 가로채더라도 내용을 확인할 수 없습니다.
사용자의 로그인 정보, 결제 정보 등의 민감한 데이터가 안전하게 보호됩니다.


#### 부인 방지 (Non-repudiation)
CA에서 발급한 디지털 인증서를 사용하여 서버의 신뢰성을 확보했습니다.
이를 통해 클라이언트는 "이 서버가 정말 신뢰할 수 있는 사이트인가?"를 검증할 수 있으며 피싱 사이트 차단에도 효과적입니다.
<!-- 서버 입장에서도 "나는 신뢰할 수 있는 인증을 받은 사이트"라고 증명 가능 -->


### 보안 강화 포인트

#### HSTS(HTTP Strict Transport Security) 적용
HTTP 요청을 HTTPS로 자동 전환하여 사용자가 실수로 HTTP에 접속하더라도 안전한 통신을 유지합니다.

> 모든 데이터가 암호화되며 신뢰할 수 있는 서버임을 보장할 수 있는 환경이 마련되었습니다.
{: .prompt-info }

<br/>

## 회고
서비스를 운영하면서 보안은 늘 중요한 고민거리였습니다.
보안의 적용은 단순히 기술을 도입하는 것을 넘어서 서비스 전체의 신뢰성과 안정성에 직결된다는 점을 깊이 체감했습니다.
JWT, WAF, HTTPS 같은 기술 요소는 각각의 목적과 원칙을 가지고 있었고 이를 실제 서비스에 적용하면서 그 원칙들이 어떻게 현실적으로 구현되는지를 직접 경험할 수 있었습니다.

또한, 모든 보안 조치는 일회성 작업이 아니라 지속적인 점검과 개선이 필수라는 점도 다시금 느꼈습니다.
서비스 환경은 끊임없이 변하고 그에 따라 위협도 진화하기 때문에 "현재 이 구조가 완벽한가?"를 계속 자문하며 대응해 나가야 한다고 생각합니다.

완벽한 보안이란 존재하지 않지만 매 순간 최선의 보안을 고민하는 자세가 가장 중요한 개발자의 태도라는 것을 배웠습니다.
앞으로도 기술적 깊이뿐만 아니라 보안적인 책임감을 함께 갖춘 개발자로 성장해 나가고자 합니다.


