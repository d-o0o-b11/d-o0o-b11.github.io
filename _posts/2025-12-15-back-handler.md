---
title: 뒤로가기 핸들링과 로그아웃 에러
description: 당연하다고 생각했던 뒤로가기
# author: d_o0o_b
categories: [OrbitMe]
tags: [typography]
# pin: true
math: true
mermaid: true
---


## 개요

출시 이후 확인한 UX 이슈 중
가장 우선적으로 수정이 필요했던 부분은
뒤로가기 플로우였습니다.

눈에 잘 띄지는 않지만
한 번 경험하면 서비스 전반에 대한 신뢰를 떨어뜨릴 수 있는 문제였습니다.

<br/>

## 발견한 문제

### 1. 로그아웃 이후 뒤로가기

설정 화면에서 로그아웃을 한 뒤,
뒤로가기 버튼을 누르면 다시 설정 화면으로 돌아가는 문제가 있었습니다.

#### 문제 흐름

1. 설정 화면에서 로그아웃
2. 로그인 화면으로 이동
3. 뒤로가기 버튼 클릭
4. 이전 설정 화면으로 복귀

로그아웃 상태임에도
인증이 필요한 화면으로 다시 진입할 수 있는 구조였습니다.

회원탈퇴 플로우에서도 동일한 문제가 발생했습니다.

<br/>

### 2. 탭 화면에서의 뒤로가기

OrbitMe는 여러 개의 탭을 사용하는 구조입니다.

사용자가 기대하는 동작은 비교적 명확합니다.

- Android
→ 메인 탭에서 뒤로가기 시 앱 종료

- iOS
→ 메인 화면에서는 아무 동작 없음

하지만 실제 동작은 달랐습니다.

- 이전 화면으로 이동
- 네비게이션 스택이 꼬이는 현상 발생

<br/>

## 문제의 원인

### 네비게이션 스택 관리 부족

React Navigation을 사용하면서
화면 전환 자체에는 문제가 없었지만
스택을 어떻게 관리할 것인지에 대한 고려가 부족했습니다.

특히 로그아웃 시
단순히 로그인 화면으로 navigate만 처리하면서
이전 화면 기록이 그대로 남아 있었습니다.

그 결과,

- 뒤로가기 시 이전 화면으로 복귀
- 인증 상태와 화면 상태 불일치 발생

<br/>

## 해결 방향

### 로그아웃 시 스택 초기화

로그아웃과 회원탈퇴는
단순한 화면 이동이 아니라
상태 전환의 끝점이라고 판단했습니다.

따라서 해당 시점에서는

- 이전 화면 기록을 모두 제거
- 로그인 화면을 새로운 시작점으로 설정

하는 방식으로 네비게이션을 초기화했습니다.

이후에는

- 로그인 화면에서 뒤로가기 불가
- 인증이 필요한 화면으로 재진입 불가

상태가 명확하게 분리되었습니다.

<br/>

## 플랫폼별 뒤로가기 처리

### Android

Android는 하드웨어 뒤로가기 버튼이 존재하기 때문에
이를 기준으로 한 UX가 자연스럽습니다.

- 메인 탭에서 뒤로가기 → 앱 종료
- 그 외 화면 → 이전 화면 이동

BackHandler를 활용해
의도한 지점에서만 앱이 종료되도록 제어했습니다.

<br/>

### iOS

iOS는 상황이 달랐습니다.

Apple 가이드라인에서는
앱을 프로그래밍 방식으로 종료하는 것을 허용하지 않습니다.

대신 대부분의 앱들은

- 메인 화면에서 뒤로가기 제스처를 비활성화
- 아무 동작도 일어나지 않도록 처리

하는 방식을 선택하고 있었습니다.

OrbitMe 역시

- 메인 탭에서 뒤로 스와이프 제스처 차단
- 불필요한 화면 이탈 방지

방향으로 구현했습니다.

<br/>

## 테스트 과정

수정 이후에는
여러 앱을 직접 사용해보며 동작을 비교했습니다.

- Instagram
- 카카오톡
- 네이버

공통적으로
- iOS: 메인 화면에서 뒤로가기 차단
- Android: 메인 화면에서 앱 종료

라는 패턴을 확인할 수 있었습니다.

로그아웃, 회원탈퇴, 탭 전환 등
여러 시나리오를 반복 테스트한 결과
의도한 흐름대로 동작하는 것을 확인했습니다.

<br/>

## 배운 점

### 1. 네비게이션은 단순하지 않다

화면 이동은 간단해 보이지만

- 상태
- 스택
- 플랫폼별 UX
- 사용자 기대

를 함께 고려해야 합니다.

### 2. 플랫폼 가이드라인은 선택이 아니다

특히 iOS에서는
Human Interface Guidelines를 따르지 않으면
UX뿐만 아니라 심사에도 영향을 줄 수 있습니다.

### 3. 잘 만든 앱이 최고의 참고서다

문제가 막막할수록
이미 검증된 앱들의 동작을 직접 관찰하는 것이
가장 빠른 해결 방법이었습니다.

<br/>

## 마무리

뒤로가기라는 아주 기본적인 동작도
제대로 설계하지 않으면
전체 경험을 무너뜨릴 수 있다는 것을 느꼈습니다.

보이지 않는 흐름까지 신경 쓰는 것이
앱의 완성도를 결정한다고 생각합니다.

앞으로도 이런 작은 부분들을 하나씩 다듬어가며
OrbitMe를 더 안정적인 서비스로 만들어가려 합니다.

디테일이 결국 차이를 만드는 것 같습니다!


